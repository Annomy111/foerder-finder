@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design tokens */
:root {
  --brand-navy: #0F3D64;
  --brand-teal: #2DB0A2;
  --brand-green: #1E9E6A;
  --brand-sky: #0E86D4;

  --bg: 248 250 252;           /* slate-50 */
  --fg: 15 23 42;              /* slate-900 */
  --card: 255 255 255;         /* white */
  --muted: 100 116 139;        /* slate-500 */
  --border: 15 61 100 / 0.08;

  --surface: rgba(255, 255, 255, 0.85);
  --surface-muted: rgba(255, 255, 255, 0.65);
  --shadow: 0 10px 30px rgba(15, 61, 100, 0.08);

  --ring: 14 134 212 / 0.4;
}

[data-theme='dark'] {
  --bg: 2 6 23;                /* slate-950 */
  --fg: 226 232 240;           /* slate-200 */
  --card: 15 23 42;            /* slate-900 */
  --muted: 148 163 184;        /* slate-400 */
  --border: 255 255 255 / 0.08;

  --surface: rgba(2, 6, 23, 0.65);
  --surface-muted: rgba(2, 6, 23, 0.5);
  --shadow: 0 10px 30px rgba(0,0,0,0.35);
}

/* Base */
@layer base {
  :root {
    color-scheme: light dark;
  }

  html {
    -webkit-tap-highlight-color: transparent;
    scroll-behavior: smooth;
  }

  body {
    @apply antialiased;
    background-color: rgb(var(--bg));
    color: rgb(var(--fg));
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
    min-height: 100vh;
  }

  h1, h2, h3, h4 { @apply font-[800] tracking-tight; }
  ::selection { background: rgba(15, 61, 100, 0.18); color: #0F3D64; }
}

/* App background with aurora + subtle grid + noise */
.app-bg {
  position: relative;
  background-image:
    radial-gradient(1200px 800px at 10% -10%, rgba(14, 134, 212, 0.25), transparent 60%),
    radial-gradient(1000px 700px at 120% 10%, rgba(30, 158, 106, 0.25), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.8), rgba(255,255,255,0.6));
}
[data-theme='dark'] .app-bg {
  background-image:
    radial-gradient(1200px 800px at 10% -10%, rgba(14, 134, 212, 0.18), transparent 60%),
    radial-gradient(1000px 700px at 120% 10%, rgba(30, 158, 106, 0.18), transparent 60%),
    linear-gradient(180deg, rgba(2,6,23,0.9), rgba(2,6,23,0.7));
}
.bg-gradient-aurora {
  background: conic-gradient(from 0deg at 50% 50%, rgba(14, 134, 212, 0.12), rgba(30, 158, 106, 0.12), rgba(14,134,212,0.12));
  animation: aurora 18s linear infinite;
}
@keyframes aurora { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }

/* Components */
@layer components {
  .card {
    background: var(--surface);
    backdrop-filter: blur(16px);
    border: 1px solid color-mix(in oklab, rgb(var(--fg)), transparent 92%);
    border-color: rgba(var(--border));
    border-radius: 20px;
    box-shadow: var(--shadow);
    padding: 1rem;
    transition: transform .2s ease, box-shadow .2s ease;
  }
  .card:hover { transform: translateY(-2px); box-shadow: 0 14px 40px rgba(15,61,100,0.12); }

  .glass-surface {
    background: var(--surface);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(var(--border));
  }

  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 rounded-2xl px-5 py-3 font-semibold text-white transition;
    background-image: linear-gradient(90deg, var(--brand-navy, #0F3D64), #0E86D4, #1E9E6A);
    box-shadow: 0 8px 24px rgba(14, 134, 212, 0.25);
  }
  .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 12px 30px rgba(14,134,212,0.35); }

  .btn-ghost {
    @apply inline-flex items-center gap-2 rounded-xl px-3 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-white/10 transition;
  }

  .input {
    @apply w-full px-4 py-2.5 rounded-2xl border bg-white/80 dark:bg-white/5 text-slate-800 dark:text-slate-100 shadow-sm outline-none transition;
    border-color: rgba(var(--border));
  }
  .input:focus {
    box-shadow: 0 0 0 3px rgba(var(--ring));
    border-color: rgba(14, 134, 212, 0.6);
  }

  .badge {
    @apply inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-semibold;
  }
  .badge-soft {
    @apply badge text-brand-navy;
    background: rgba(15, 61, 100, .08);
    border: 1px solid rgba(15, 61, 100, .12);
  }
  .badge-success {
    @apply badge bg-emerald-500/10 text-emerald-700 border border-emerald-500/20;
  }
  .badge-warning {
    @apply badge bg-amber-500/10 text-amber-700 border border-amber-500/20;
  }
  .badge-danger {
    @apply badge bg-red-500/10 text-red-700 border border-red-500/20;
  }

  .kbd {
    @apply rounded-md border px-2 py-0.5 text-xs text-slate-500 border-slate-200 dark:border-white/10;
    background: rgba(255,255,255,0.7);
  }

  .skeleton {
    @apply relative overflow-hidden rounded-2xl bg-slate-200/70 dark:bg-slate-700/50;
  }

  .skeleton::after {
    content: "";
    position: absolute;
    inset: 0;
    background-image: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.65), transparent);
    transform: translateX(-100%);
    animation: shimmer 1.8s infinite;
  }
}

@keyframes shimmer {
  100% {
    transform: translateX(100%);
  }
}

/* Utilities */
@layer utilities {
  .shadow-soft { box-shadow: var(--shadow); }
  .shadow-elevated { box-shadow: 0 20px 60px rgba(15, 61, 100, 0.18); }
  .shadow-glow {
    box-shadow: 0 0 20px rgba(14, 134, 212, 0.5);
  }
}

/* Prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation: none !important; transition: none !important; }
}

/* Scrollbar */
::-webkit-scrollbar { width: 10px; height: 10px; }
::-webkit-scrollbar-track { background: rgba(15, 61, 100, 0.05); border-radius: 9999px; }
::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, rgba(14, 134, 212, 0.65), rgba(30, 158, 106, 0.8));
  border-radius: 9999px;
}
::-webkit-scrollbar-thumb:hover { background: linear-gradient(to bottom, rgba(14,134,212,.9), rgba(30,158,106,.9)); }
